/*
â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–“â–’â–’â–“â–“â–“â–“â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–“â–“â–’â–’â–“â–“â–“â–’â–’â–“â–“
â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–“â–“â–“â–’â–’â–“â–“â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–“â–“â–“â–“â–’â–’â–“â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–’â–“â–“
â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ 


â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–’â–’â–“â–“â–“â–’â–’â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–“â–’â–“â–“â–“â–’â–“â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–“â–“â–’â–“â–’â–“â–“â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–“â–“â–’â–’â–’â–“â–“â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–“â–“â–’â–’â–’â–“â–“â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–“â–“â–“â–“â–“â–“â–“â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–“â–“â–“â–“â–“â–’â–’â–’â–“â–“
â–“â–“â–’â–’â–“â–“â–“â–“â–“â–“â–“â–’â–’â–“â–“  â–“â–“â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–“â–“
â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“


Developed By Mr.Supun Fernando

Whatsapp Channel -> https://whatsapp.com/channel/0029VaXRYlrKwqSMF7Tswi38

Youtube Channel -> https://youtube.com/@darkshadow_zap?si=8js31BzLWISSdz12

Developer Contact -> 94718461889
**/
const path = require("path");
const axios = require('axios');
const cheerio = require('cheerio');
const {
  File
} = require("megajs");
const config = require('../config');
const fs = require('fs').promises;
const {
  fetchJson
} = require("../lib/functions");
const {
  cmd,
  commands
} = require("../command");
const {
  SinhalaSub
} = require("@sl-code-lords/movie-api");
let baseUrl;
(async () => {
  let _0x4d3c86 = await fetchJson('https://raw.githubusercontent.com/prabathLK/PUBLIC-URL-HOST-DB/main/public/url.json');
  baseUrl = _0x4d3c86.api;
})();
cmd({
  'pattern': "sinhalasub",
  'desc': "Search for a movie and get details and download options.",
  'alias': ["sinhalasubdl"],
  'category': 'movie',
  'react': 'ğŸ¿',
  'filename': __filename
}, async (_0x276c3f, _0x43b66b, _0x35bf18, {
  from: _0x8efdc1,
  q: _0x337bf9,
  reply: _0x26973e
}) => {
  try {
    const _0x5e0bef = _0x337bf9.trim();
    if (!_0x5e0bef) {
      return _0x26973e("Please provide a movie name to search.");
    }
    const _0x7ed382 = await SinhalaSub.get_list.by_search(_0x5e0bef);
    if (!_0x7ed382.status || _0x7ed382.results.length === 0x0) {
      return _0x26973e("No results found.");
    }
    let _0x1b4fa0 = "ğŸ“º Search Results for\n\n*ğŸ”¢ Reply Below Number*\n\n";
    _0x7ed382.results.forEach((_0x2d6379, _0x964ee6) => {
      _0x1b4fa0 += _0x964ee6 + 0x1 + ". *" + _0x2d6379.title + "*\nğŸ—“ï¸Type : *" + _0x2d6379.type + "*\nğŸ“ Link : " + _0x2d6379.link + "\n\n";
    });
    const _0x6ea144 = async _0x9ddfe6 => {
      const _0x22ae0c = _0x9ddfe6.messages[0x0];
      if (!_0x22ae0c.message || !_0x22ae0c.message.extendedTextMessage) {
        return;
      }
      const _0x2add35 = _0x22ae0c.message.extendedTextMessage.text.trim();
      const _0xa867ca = parseInt(_0x2add35) - 0x1;
      if (_0xa867ca < 0x0 || _0xa867ca >= _0x7ed382.results.length) {
        await _0x276c3f.sendMessage(_0x8efdc1, {
          'react': {
            'text': 'âŒ',
            'key': _0x43b66b.key
          }
        });
        return _0x26973e("Invalid selection. Please choose a valid number from the search results.");
      }
      const _0x4563e6 = _0x7ed382.results[_0xa867ca];
      const _0x536c04 = _0x4563e6.link;
      const _0x116f55 = await SinhalaSub.movie(_0x536c04);
      if (!_0x116f55 || !_0x116f55.status || !_0x116f55.result) {
        return _0x26973e("Movie details not found or invalid link provided.");
      }
      const _0x7a1bca = _0x116f55.result;
      let _0x18cf9b = "â˜˜ï¸ *" + _0x7a1bca.title + "*\n\n";
      _0x18cf9b += "*ğŸ§¿ Release Date:* " + _0x7a1bca.release_date + "\n\n";
      _0x18cf9b += "*ğŸŒ Country:* " + _0x7a1bca.country + "\n\n";
      _0x18cf9b += "*â±ï¸ Duration:* " + _0x7a1bca.duration + "\n\n";
      _0x18cf9b += "*ğŸ€ Categories:* " + _0x7a1bca.genres + "\n\n";
      _0x18cf9b += "*â­ IMDB:* " + _0x7a1bca.IMDb_Rating + "\n\n";
      _0x18cf9b += "*ğŸ¤µâ€â™‚ï¸ Director:* " + _0x7a1bca.director.name + "\n\n";
      _0x18cf9b += "*ğŸ”¢ Reply Below Number*\n\n";
      _0x18cf9b += "1 | 480p\n";
      _0x18cf9b += "2 | 720p\n";
      _0x18cf9b += "3 | 1080p\n\n";
      _0x18cf9b += "> á´˜á´€á´¡á´‡Ê€á´‡á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…";
      const _0xddc80d = _0x7a1bca.images && _0x7a1bca.images.length > 0x0 ? _0x7a1bca.images[0x0] : '';
      const _0x448404 = await _0x276c3f.sendMessage(_0x8efdc1, {
        'image': {
          'url': _0xddc80d
        },
        'caption': _0x18cf9b
      });
      _0x276c3f.ev.off('messages.upsert', _0x6ea144);
      const _0x2a5ce3 = async _0x5a1281 => {
        const _0xdb3fd1 = _0x5a1281.messages[0x0];
        if (!_0xdb3fd1.message || !_0xdb3fd1.message.extendedTextMessage) {
          return;
        }
        const _0x2628e0 = _0xdb3fd1.message.extendedTextMessage.text.trim();
        if (_0xdb3fd1.message.extendedTextMessage.contextInfo.stanzaId === _0x448404.key.id) {
          let _0x34c15e;
          if (_0x2628e0 === '1') {
            _0x34c15e = "SD 480p";
          } else {
            if (_0x2628e0 === '2') {
              _0x34c15e = "HD 720p";
            } else {
              if (_0x2628e0 === '3') {
                _0x34c15e = "FHD 1080p";
              } else {
                await _0x276c3f.sendMessage(_0x8efdc1, {
                  'react': {
                    'text': 'âŒ',
                    'key': _0x43b66b.key
                  }
                });
                return _0x26973e("Invalid option. Please select from SD, HD, or FHD.");
              }
            }
          }
          try {
            const _0x25fea7 = await PixaldrainDL(_0x536c04, _0x34c15e, 'direct');
            if (_0x25fea7) {
              await _0x276c3f.sendMessage(_0x8efdc1, {
                'react': {
                  'text': 'âœ…',
                  'key': _0x43b66b.key
                }
              });
            } else {
              await _0x276c3f.sendMessage(_0x8efdc1, {
                'react': {
                  'text': 'âŒ',
                  'key': _0x43b66b.key
                }
              });
              return _0x26973e("Could not find the " + _0x34c15e + " download link. Please try another quality.");
            }
          } catch (_0xa87658) {
            console.error("Error in PixaldrainDL function:", _0xa87658);
            await _0x276c3f.sendMessage(_0x8efdc1, {
              'react': {
                'text': 'âŒ',
                'key': _0x43b66b.key
              }
            });
            return _0x26973e("An error occurred while processing your download request.");
          }
        }
      };
      _0x276c3f.ev.on("messages.upsert", _0x2a5ce3);
      setTimeout(() => {
        _0x276c3f.ev.off("messages.upsert", _0x2a5ce3);
      }, 0x30d40);
    };
    _0x276c3f.ev.on("messages.upsert", _0x6ea144);
    setTimeout(() => {
      _0x276c3f.ev.off("messages.upsert", _0x6ea144);
    }, 0x30d40);
  } catch (_0x2eb19d) {
    console.error("Error in movie search or details:", _0x2eb19d);
    await _0x276c3f.sendMessage(_0x8efdc1, {
      'react': {
        'text': 'âŒ',
        'key': _0x43b66b.key
      }
    });
    _0x26973e("An error occurred while fetching the movie search or details.");
  }
});
cmd({
  'pattern': "sinhalasub2",
  'react': 'ğŸ’­',
  'category': "download",
  'desc': "Search movies on sinhalasub and get download links",
  'filename': __filename
}, async (_0x3902e1, _0x3077b0, _0x4dee7f, {
  from: _0x4a6a84,
  isMe: _0x220c61,
  isOwner: _0x12efd7,
  q: _0x1289c9,
  reply: _0x21bd45
}) => {
  try {
    if (!_0x1289c9 || _0x1289c9.trim() === '') {
      return await _0x21bd45("*Please provide a search query! (e.g., Deadpool)*");
    }
    if (!_0x220c61 && !_0x12efd7) {
      return await _0x21bd45("*Only Bot Number Can Movie Download !!!*");
    }
    const _0x4e6780 = await fetchJson("https://manul-official-api-site-4a4d3aa3fe73.herokuapp.com/api/sl-sub-search?query=" + _0x1289c9 + "&apikey=" + "Manul-Ofc-Sl-Sub-Key-9");
    const _0xbe6ee2 = _0x4e6780.data.data;
    if (!Array.isArray(_0xbe6ee2) || _0xbe6ee2.length === 0x0) {
      return await _0x21bd45("No results found for: " + _0x1289c9);
    }
    const _0x2bec65 = _0xbe6ee2.slice(0x0, 0xa);
    let _0x4b12ff = "ğŸ—¨ï¸ *Search Results* \"" + _0x1289c9 + "\":\n\n";
    _0x2bec65.forEach((_0xa3b082, _0x54fbb7) => {
      const _0x1515c7 = _0xa3b082.title || "No title available";
      const _0x539994 = _0xa3b082.link || "No link available";
      const _0x48cb26 = _0xa3b082.thumbnail || 'https://via.placeholder.com/150';
      _0x4b12ff += '*' + (_0x54fbb7 + 0x1) + ".* " + _0x1515c7 + "\nğŸ”— Link: " + _0x539994 + "\n";
      _0x4b12ff += "ğŸ“½ï¸MOVIE Thumbnail: " + _0x48cb26 + "\n\n";
    });
    const _0x19b561 = await _0x3902e1.sendMessage(_0x3077b0.chat, {
      'image': {
        'url': _0x2bec65[0x0].thumbnail
      },
      'caption': '' + _0x4b12ff
    }, {
      'quoted': _0x4dee7f
    });
    const _0x5a104e = _0x19b561.key.id;
    const _0xd093ba = async (_0x102b0e, _0x17b097) => {
      const _0x2ce725 = _0x2bec65[_0x17b097 - 0x1];
      const _0x492c89 = await fetchJson("https://manul-official-api-site-4a4d3aa3fe73.herokuapp.com/api/slsub-movie-info?url=" + encodeURIComponent(_0x2ce725.link) + '&apikey=' + "Manul-Ofc-Sl-Sub-Key-9");
      try {
        const _0x4c51a8 = _0x492c89.data;
        const _0xf18953 = _0x4c51a8.downloadLinks || [];
        if (_0xf18953.length === 0x0) {
          return await _0x21bd45("No download links found.");
        }
        let _0xc299e5 = "ğŸ¥ *" + _0x4c51a8.title + "*\n\n> êœ°á´á´¡á´‡Ê€á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…\n";
        _0xf18953.forEach((_0x3ddee2, _0x59fa36) => {
          _0xc299e5 += '*' + (_0x59fa36 + 0x1) + ".* " + _0x3ddee2.quality + " - " + _0x3ddee2.size + "\nğŸ”— Link: " + _0x3ddee2.link + "\n\n";
        });
        const _0x54a65b = await _0x3902e1.sendMessage(_0x3077b0.chat, {
          'image': {
            'url': _0x2ce725.thumbnail
          },
          'caption': '' + _0xc299e5
        }, {
          'quoted': _0x102b0e
        });
        const _0x3c861f = _0x54a65b.key.id;
        const _0x57a1d0 = async (_0x28dfc3, _0x72c76c) => {
          const _0x11a68a = _0xf18953[_0x72c76c - 0x1];
          const _0x4f8be1 = _0x11a68a.link;
          const _0x4a983c = await fetchJson("https://manul-official-api-site-4a4d3aa3fe73.herokuapp.com/api/slsub-direct-link?url=" + encodeURIComponent(_0x4f8be1) + "&apikey=" + "Manul-Ofc-Sl-Sub-Key-9");
          const _0x4c3e7f = _0x4a983c.data.downloadLink;
          const _0xdf3d55 = _0x4c3e7f.split('/').pop();
          await _0x3902e1.sendMessage(_0x4a6a84, {
            'react': {
              'text': 'â¬‡ï¸',
              'key': _0x4dee7f.key
            }
          });
          const _0x36ff98 = 'https://pixeldrain.com/api/file/' + _0xdf3d55;
          await _0x3902e1.sendMessage(_0x4a6a84, {
            'react': {
              'text': 'â¬†',
              'key': _0x4dee7f.key
            }
          });
          await _0x3902e1.sendMessage(_0x4a6a84, {
            'document': {
              'url': _0x36ff98
            },
            'mimetype': "video/mp4",
            'fileName': _0x4c51a8.title + " - " + _0x11a68a.quality + ".mp4",
            'caption': _0x4c51a8.title + "\nQuality: " + _0x11a68a.quality + "\n\n> êœ°á´á´¡á´‡Ê€á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…"
          }, {
            'quoted': _0x28dfc3
          });
          await _0x3902e1.sendMessage(_0x4a6a84, {
            'react': {
              'text': 'âœ…',
              'key': _0x4dee7f.key
            }
          });
        };
        _0x3902e1.ev.on("messages.upsert", async _0x17f1f7 => {
          const _0x5d8b9f = _0x17f1f7.messages[0x0];
          if (!_0x5d8b9f.message) {
            return;
          }
          const _0x302d87 = _0x5d8b9f.message.conversation || _0x5d8b9f.message.extendedTextMessage?.["text"];
          const _0xcf9c5f = _0x5d8b9f.message.extendedTextMessage && _0x5d8b9f.message.extendedTextMessage.contextInfo.stanzaId === _0x3c861f;
          if (_0xcf9c5f) {
            const _0x285b19 = parseInt(_0x302d87.trim());
            if (!isNaN(_0x285b19) && _0x285b19 > 0x0 && _0x285b19 <= _0xf18953.length) {
              _0x57a1d0(_0x5d8b9f, _0x285b19);
            } else {
              await _0x21bd45("Invalid selection. Please reply with a valid number.");
            }
          }
        });
      } catch (_0x4ae41b) {
        console.error("Error fetching movie details:", _0x4ae41b);
        await _0x21bd45("Sorry, something went wrong while fetching the movie details.");
      }
    };
    _0x3902e1.ev.on("messages.upsert", async _0x3a5f96 => {
      const _0x410c4c = _0x3a5f96.messages[0x0];
      if (!_0x410c4c.message) {
        return;
      }
      const _0x228a94 = _0x410c4c.message.conversation || _0x410c4c.message.extendedTextMessage?.["text"];
      const _0x3dec82 = _0x410c4c.message.extendedTextMessage && _0x410c4c.message.extendedTextMessage.contextInfo.stanzaId === _0x5a104e;
      if (_0x3dec82) {
        const _0x145518 = parseInt(_0x228a94.trim());
        if (!isNaN(_0x145518) && _0x145518 > 0x0 && _0x145518 <= _0x2bec65.length) {
          _0xd093ba(_0x410c4c, _0x145518);
        } else {
          await _0x21bd45("Invalid selection. Please reply with a valid number.");
        }
      }
    });
  } catch (_0xe49807) {
    console.error("Error in sinhala command:", _0xe49807);
    await _0x21bd45("Sorry, something went wrong. Please try again later.");
  }
});
cmd({
  'pattern': 'mvdl2',
  'react': 'ğŸ¥',
  'alias': ['movie2'],
  'desc': "Sinhalasub movie download.",
  'category': "download",
  'use': ".mv_dl < Movie url >",
  'filename': __filename
}, async (_0x1350b1, _0x216306, _0x19ce0c, {
  from: _0x557d27,
  l: _0x4c333c,
  quoted: _0x5db3b4,
  body: _0xbf1731,
  isCmd: _0x32fc7d,
  command: _0x4caa0a,
  args: _0x38f184,
  q: _0x3c5345,
  isGroup: _0x27fdeb,
  sender: _0x59ceda,
  senderNumber: _0x28bf26,
  botNumber2: _0x4eebc2,
  botNumber: _0x15c47a,
  pushname: _0x4a99b6,
  isMe: _0x56d4bb,
  isOwner: _0x524477,
  groupMetadata: _0x3d65ce,
  groupName: _0x38bb53,
  participants: _0x87f1bb,
  groupAdmins: _0xe76932,
  isBotAdmins: _0x504dc,
  isCreator: _0x3da1ba,
  isDev: _0x3c8b68,
  isAdmins: _0x9aa2e5,
  reply: _0x24ed44
}) => {
  try {
    const _0x306d9b = await fetchJson("https://www.dark-yasiya-api.site/movie/sinhalasub/movie?url=" + _0x3c5345);
    let _0x5b8d74 = "*ğŸ© MOVIE DOWNLOAD SYSTEM ğŸ¥*\n\n*Title:* " + _0x306d9b.result.data.title + "\n*Date:* " + _0x306d9b.result.data.date + "\n*Country:* " + _0x306d9b.result.data.country + "\n*Run Time:* " + _0x306d9b.result.data.runtime + "\n\n======DOWNLOAD URL======\n\n";
    for (let _0x55e62b = 0x0; _0x55e62b < _0x306d9b.result.data.dl_links.length; _0x55e62b++) {
      _0x5b8d74 += _0x55e62b + 0x1 + ". " + _0x306d9b.result.data.dl_links[_0x55e62b].size + " (" + _0x306d9b.result.data.dl_links[_0x55e62b].quality + ")\n";
      _0x5b8d74 += _0x306d9b.result.data.dl_links[_0x55e62b].link + "\n\n";
    }
    await _0x1350b1.sendMessage(_0x557d27, {
      'image': {
        'url': _0x306d9b.result.data.images[0x0] || _0x306d9b.result.data.image
      },
      'caption': _0x5b8d74
    }, {
      'quoted': _0x216306
    });
  } catch (_0xf2b18c) {
    await _0x1350b1.sendMessage(_0x557d27, {
      'react': {
        'text': 'âŒ',
        'key': _0x216306.key
      }
    });
    console.log(_0xf2b18c);
    _0x24ed44("An error !");
  }
});
cmd({
  'pattern': "mv_details",
  'react': 'ğŸ¥',
  'alias': ['movie3'],
  'desc': "Sinhalasub movie imfomation.",
  'category': 'download',
  'use': ".mv_details < movie, jid >",
  'filename': __filename
}, async (_0x2928b9, _0x4b0f69, _0x563e8c, {
  from: _0x170065,
  l: _0x5d1e32,
  quoted: _0x1994ee,
  body: _0x4eb65a,
  isCmd: _0x54f3be,
  command: _0x3d3e82,
  args: _0x48a53a,
  q: _0x1c32d3,
  isGroup: _0x4ea395,
  sender: _0x141bfb,
  senderNumber: _0x22dc90,
  botNumber2: _0x1b9184,
  botNumber: _0x1f451c,
  pushname: _0x29baba,
  isMe: _0x899c82,
  isOwner: _0x45ed21,
  groupMetadata: _0x13b862,
  groupName: _0x3a5c96,
  participants: _0x322499,
  groupAdmins: _0x58a91f,
  isBotAdmins: _0x524413,
  isCreator: _0x4947cf,
  isDev: _0xec270f,
  isAdmins: _0x51d796,
  reply: _0x5a4c59
}) => {
  try {
    var _0x11a71c = '';
    var _0x3ea4ca = '';
    if (_0x1c32d3.includes('+')) {
      _0x3ea4ca = _0x1c32d3.split('+')[0x1];
    }
    if (_0x1c32d3.includes('+')) {
      _0x11a71c = _0x1c32d3.split('+')[0x0];
    }
    let _0xb5bdd3 = _0x11a71c || _0x1c32d3;
    let _0x221a18 = _0x3ea4ca || _0x170065;
    const _0x268370 = await fetchJson("https://www.dark-yasiya-api.site/movie/sinhalasub/movie?url=" + _0xb5bdd3);
    const _0x45e7fd = "*Title:* " + _0x268370.result.data.title + "\n\n*Date:* " + _0x268370.result.data.date + "\n\n*Country:* " + _0x268370.result.data.country + "\n\n*Run Time:* " + _0x268370.result.data.runtime + "\n\n*Genres:* " + _0x268370.result.data.category + "\n\n*Director:* " + _0x268370.result.data.director + "\n\n";
    await _0x2928b9.sendMessage(_0x221a18, {
      'image': {
        'url': _0x268370.result.data.images[0x0] || _0x268370.result.data.image
      },
      'caption': _0x45e7fd
    }, {
      'quoted': _0x4b0f69
    });
    _0x5a4c59("Details Sended");
  } catch (_0x2e8c04) {
    await _0x2928b9.sendMessage(_0x170065, {
      'react': {
        'text': 'âŒ',
        'key': _0x4b0f69.key
      }
    });
    console.log(_0x2e8c04);
    _0x5a4c59("An error !");
  }
});
cmd({
  'pattern': "mvdl",
  'react': 'ğŸ¥',
  'alias': ["movie4"],
  'desc': "Download sinhalasub movie.",
  'category': "download",
  'use': ".sinhalasub < Movie url + jid >",
  'filename': __filename
}, async (_0x3fc401, _0x34a548, _0xc9cac8, {
  from: _0x45db46,
  l: _0x116012,
  quoted: _0x157375,
  body: _0xa13fb3,
  isCmd: _0xb828b4,
  command: _0x4b0e1b,
  args: _0x4bd5fd,
  q: _0x472b72,
  isGroup: _0x18c4c4,
  sender: _0x19a829,
  senderNumber: _0x4fbc99,
  botNumber2: _0x2ddcf3,
  botNumber: _0x447741,
  pushname: _0x473904,
  isMe: _0x5de06c,
  isOwner: _0x5f381a,
  groupMetadata: _0x442022,
  groupName: _0x547c9c,
  participants: _0x31ace9,
  groupAdmins: _0x590f23,
  isBotAdmins: _0x1351f5,
  isCreator: _0x1308f8,
  isDev: _0x1ed0d0,
  isAdmins: _0xa28863,
  reply: _0x16c50f
}) => {
  try {
    var _0x32a0a9 = '';
    var _0x483aee = '';
    var _0x5e5a1d = '';
    if (_0x472b72.includes('+')) {
      _0x483aee = _0x472b72.split('+')[0x1];
    }
    if (_0x472b72.includes('+')) {
      _0x32a0a9 = _0x472b72.split('+')[0x0];
      _0x5e5a1d = _0x472b72.split('+')[0x2];
    }
    const _0x3916d1 = await fetchJson("https://www.dark-yasiya-api.site/movie/sinhalasub/movie/?url=" + _0x32a0a9);
    let _0x3cd956 = _0x483aee ? _0x483aee : _0x472b72;
    let _0x39edf0 = _0x5e5a1d || _0x45db46;
    if (_0x3cd956.includes("mega.nz")) {
      const _0x81b487 = await _0x3fc401.sendMessage(_0x45db46, {
        'text': "Uploading Your Request Video..â¬†"
      }, {
        'quoted': _0x34a548
      });
      const _0x313a7f = File.fromURL(_0x3cd956);
      await _0x313a7f.loadAttributes();
      const _0x523d13 = await _0x313a7f.downloadBuffer();
      await _0x3fc401.sendMessage(_0x39edf0, {
        'document': _0x523d13,
        'mimetype': "video/mp4",
        'fileName': _0x3916d1.result.data.title + ".mp4",
        'caption': '' + _0x3916d1.result.data.title
      });
      await _0x3fc401.sendMessage(_0x45db46, {
        'delete': _0x81b487.key
      });
      await _0x3fc401.sendMessage(_0x45db46, {
        'text': "File Send Succesfull âœ”"
      }, {
        'quoted': _0x34a548
      });
    } else {
      if (_0x3cd956.includes("ddl.sinhalasub.net" || "ssl.sinhalasub01.workers.dev")) {
        const _0x160623 = await _0x3fc401.sendMessage(_0x45db46, {
          'text': "Uploading Your Request Video..â¬†"
        }, {
          'quoted': _0x34a548
        });
        await _0x3fc401.sendMessage(_0x45db46, {
          'delete': _0x160623.key
        });
      } else {
        if (_0x3cd956.includes("https://pixeldrain.com/u/")) {
          _0x3cd956 = _0x3cd956.replace('/u/', "/api/file/");
          const _0x368e7b = await _0x3fc401.sendMessage(_0x45db46, {
            'text': "Uploading Your Request Video..â¬†"
          }, {
            'quoted': _0x34a548
          });
          await _0x3fc401.sendMessage(_0x45db46, {
            'delete': _0x368e7b.key
          });
          await _0x3fc401.sendMessage(_0x45db46, {
            'text': "File Send Succesfull âœ”"
          }, {
            'quoted': _0x34a548
          });
        } else {
          await _0x3fc401.sendMessage(_0x45db46, {
            'text': "I can't download this movie"
          });
        }
      }
    }
  } catch (_0x50b3ee) {
    await _0x3fc401.sendMessage(_0x45db46, {
      'react': {
        'text': 'âŒ',
        'key': _0x34a548.key
      }
    });
    console.log(_0x50b3ee);
    _0x16c50f(_0x50b3ee);
  }
});
cmd({
  'pattern': "movie",
  'desc': "Fetch detailed information about a movie.",
  'category': "other",
  'react': 'ğŸ¬',
  'filename': __filename
}, async (_0x22256c, _0x5b9cbe, _0x220cd5, {
  from: _0xdd37e0,
  quoted: _0x13cf73,
  body: _0x35dc30,
  isCmd: _0x1e117e,
  command: _0x568764,
  args: _0x412ec6,
  q: _0x476b34,
  isGroup: _0x28c690,
  sender: _0x5711af,
  senderNumber: _0x5e87f1,
  botNumber2: _0x65f3b5,
  botNumber: _0x2ceaf6,
  pushname: _0x243bc2,
  isMe: _0x5a2d10,
  isOwner: _0x44afa5,
  groupMetadata: _0x44b5bc,
  groupName: _0x449bc3,
  participants: _0x30f4f7,
  groupAdmins: _0x1accc7,
  isBotAdmins: _0xef050a,
  isAdmins: _0x214d12,
  reply: _0x1f341c
}) => {
  try {
    const _0x2a4b87 = _0x412ec6.join(" ");
    if (!_0x2a4b87) {
      return _0x1f341c("ğŸ“½ï¸ Ïâ„“Ñ”Î±Ñ•Ñ” ÏÑÏƒÎ½Î¹âˆ‚Ñ” Ñ‚Ğ½Ñ” Î·Î±Ğ¼Ñ” ÏƒÆ’ Ñ‚Ğ½Ñ” Ğ¼ÏƒÎ½Î¹Ñ”.");
    }
    const _0x32a2e9 = "http://www.omdbapi.com/?t=" + encodeURIComponent(_0x2a4b87) + "&apikey=" + config.OMDB_API_KEY;
    const _0x282e5c = await axios.get(_0x32a2e9);
    const _0x3b5a90 = _0x282e5c.data;
    if (_0x3b5a90.Response === "False") {
      return _0x1f341c("ğŸš« Movie not found.");
    }
    const _0x4928d1 = "\nğŸš€ *Movie Information* ğŸ¬\n\nğŸ¥ *Title:* " + _0x3b5a90.Title + "\nğŸ“… *Year:* " + _0x3b5a90.Year + "\nğŸŒŸ *Rated:* " + _0x3b5a90.Rated + "\nğŸ“† *Released:* " + _0x3b5a90.Released + "\nâ³ *Runtime:* " + _0x3b5a90.Runtime + "\nğŸ­ *Genre:* " + _0x3b5a90.Genre + "\nğŸ¬ *Director:* " + _0x3b5a90.Director + "\nâœï¸ *Writer:* " + _0x3b5a90.Writer + "\nğŸ­ *Actors:* " + _0x3b5a90.Actors + "\nğŸ“ *Plot:* " + _0x3b5a90.Plot + "\nğŸŒ *Language:* " + _0x3b5a90.Language + "\nğŸ‡ºğŸ‡¸ *Country:* " + _0x3b5a90.Country + "\nğŸ† *Awards:* " + _0x3b5a90.Awards + "\nâ­ *IMDB Rating:* " + _0x3b5a90.imdbRating + "\nğŸ—³ï¸ *IMDB Votes:* " + _0x3b5a90.imdbVotes + "\n";
    const _0x10216f = _0x3b5a90.Poster && _0x3b5a90.Poster !== "N/A" ? _0x3b5a90.Poster : config.ALIVE_IMG;
    await _0x22256c.sendMessage(_0xdd37e0, {
      'image': {
        'url': _0x10216f
      },
      'caption': _0x4928d1 + "\n> á´˜á´€á´¡á´‡Ê€á´‡á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…"
    }, {
      'quoted': _0x5b9cbe
    });
  } catch (_0x1b9555) {
    console.log(_0x1b9555);
    _0x1f341c("âŒ Ñ”ÑÑÏƒÑ: " + _0x1b9555.message);
  }
});
cmd({
  'pattern': "moviedl",
  'desc': "Search for a movie and get details and download options.",
  'category': "movie",
  'react': 'ğŸ”',
  'filename': __filename
}, async (_0x4c890c, _0x1ebe40, _0x4b86e0, {
  from: _0x4f7bdc,
  q: _0x4d1f4f,
  reply: _0xe9f4f1
}) => {
  try {
    const _0x545250 = _0x4d1f4f.trim();
    if (!_0x545250) {
      return _0xe9f4f1("Please provide a movie or TV show name to search.");
    }
    const _0x1ba5f9 = await SinhalaSub.get_list.by_search(_0x545250);
    if (!_0x1ba5f9.status || _0x1ba5f9.results.length === 0x0) {
      return _0xe9f4f1("No results found.");
    }
    let _0x446b05 = "Search Results:\n\n";
    _0x1ba5f9.results.forEach((_0x9a025c, _0x455de6) => {
      _0x446b05 += _0x455de6 + 0x1 + ". " + _0x9a025c.title + "\nType: " + _0x9a025c.type + "\nLink: " + _0x9a025c.link + "\n\n";
    });
    const _0x457b8e = async _0x76802d => {
      const _0x2da5c0 = _0x76802d.messages[0x0];
      if (!_0x2da5c0.message || !_0x2da5c0.message.extendedTextMessage) {
        return;
      }
      const _0x59e6ac = _0x2da5c0.message.extendedTextMessage.text.trim();
      const _0x461843 = parseInt(_0x59e6ac) - 0x1;
      if (_0x461843 < 0x0 || _0x461843 >= _0x1ba5f9.results.length) {
        await _0x4c890c.sendMessage(_0x4f7bdc, {
          'react': {
            'text': 'âŒ',
            'key': _0x1ebe40.key
          }
        });
        return _0xe9f4f1("â— Invalid selection. Please choose a valid number from the search results.");
      }
      const _0x450d3c = _0x1ba5f9.results[_0x461843];
      const _0x47f9a4 = _0x450d3c.link;
      const _0x232350 = await SinhalaSub.movie(_0x47f9a4);
      if (!_0x232350 || !_0x232350.status || !_0x232350.result) {
        return _0xe9f4f1("â— Movie details not found.");
      }
      const _0x1fe2c1 = _0x232350.result;
      let _0x1f2827 = _0x1fe2c1.title + "\n\n";
      _0x1f2827 += "ğŸ“… ğ–±ğ–¾ğ—…ğ–¾ğ–ºğ—Œğ–¾ ğ–£ğ–ºğ—ğ–¾: " + _0x1fe2c1.release_date + "\n";
      _0x1f2827 += "ğŸ—º ğ–¢ğ—ˆğ—ğ—‡ğ—ğ—‹ğ—’: " + _0x1fe2c1.country + "\n";
      _0x1f2827 += "â° ğ–£ğ—ğ—‹ğ–ºğ—ğ—‚ğ—ˆğ—‡: " + _0x1fe2c1.duration + "\n";
      const _0x3a6880 = Array.isArray(_0x1fe2c1.genres) ? _0x1fe2c1.genres.join(", ") : _0x1fe2c1.genres;
      _0x1f2827 += "ğŸ­ ğ–¦ğ–¾ğ—‡ğ–¾ğ—‹ğ–¾ğ—Œ: " + _0x3a6880 + "\n";
      _0x1f2827 += "â­ ğ–¨ğ—†ğ–½ğ–» ğ–±ğ–ºğ—ğ—‚ğ—‡ğ—€: " + _0x1fe2c1.IMDb_Rating + "\n";
      _0x1f2827 += "ğŸ¬ ğ–£ğ—‚ğ—‹ğ–¾ğ–¼ğ—ğ—ˆğ—‹: " + _0x1fe2c1.director.name + "\n\n";
      _0x1f2827 += "ä¹‚ REPLY BELOW NUMBER\n\n";
      _0x1f2827 += "1 | ğ–²ğ–£ - 480ğ—‰\n";
      _0x1f2827 += "2 | ğ–§ğ–£ - 720p\n";
      _0x1f2827 += "3 | ğ–¥ğ–§ğ–£ - 1080p\n\n";
      _0x1f2827 += "> á´˜á´€á´¡á´‡Ê€á´‡á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…";
      const _0x5775c9 = _0x1fe2c1.images && _0x1fe2c1.images.length > 0x0 ? _0x1fe2c1.images[0x0] : null;
      const _0x5240fa = await _0x4c890c.sendMessage(_0x4f7bdc, {
        'image': {
          'url': _0x5775c9
        },
        'caption': _0x1f2827,
        'contextInfo': {
          'forwardingScore': 0x3e7,
          'isForwarded': true
        }
      }, {
        'quoted': _0x1ebe40
      });
      const _0x19baf2 = async _0x466258 => {
        const _0x5dbb7c = _0x466258.messages[0x0];
        if (!_0x5dbb7c.message || !_0x5dbb7c.message.extendedTextMessage) {
          return;
        }
        const _0x3cd422 = _0x5dbb7c.message.extendedTextMessage.text.trim();
        if (_0x5dbb7c.message.extendedTextMessage.contextInfo.stanzaId === _0x5240fa.key.id) {
          let _0x124a94;
          switch (_0x3cd422) {
            case '1':
              _0x124a94 = "SD 480p";
              break;
            case '2':
              _0x124a94 = "HD 720p";
              break;
            case '3':
              _0x124a94 = "FHD 1080p";
              break;
            default:
              await _0x4c890c.sendMessage(_0x4f7bdc, {
                'react': {
                  'text': 'âŒ',
                  'key': _0x1ebe40.key
                }
              });
              return _0xe9f4f1("â— Invalid option. Please select from SD, HD, or FHD.");
          }
          try {
            const _0x3e7dd7 = await PixaldrainDL(_0x47f9a4, _0x124a94, "direct");
            if (_0x3e7dd7) {
              await _0x4c890c.sendMessage(_0x4f7bdc, {
                'document': {
                  'url': _0x3e7dd7
                },
                'mimetype': "video/mp4",
                'fileName': "ğŸ¬êœ±á´œá´˜á´œÉ´ á´á´… á´á´á´ Éªá´‡êœ±ğŸ¬(" + _0x1fe2c1.title + ").mp4",
                'caption': _0x1fe2c1.title + " - " + _0x124a94 + "\n\n> á´˜á´€á´¡á´‡Ê€á´‡á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…"
              }, {
                'quoted': _0x1ebe40
              });
              await _0x4c890c.sendMessage(_0x4f7bdc, {
                'react': {
                  'text': 'âœ…',
                  'key': _0x1ebe40.key
                }
              });
            } else {
              await _0x4c890c.sendMessage(_0x4f7bdc, {
                'react': {
                  'text': 'âŒ',
                  'key': _0x1ebe40.key
                }
              });
              return _0xe9f4f1("â— Could not find the " + _0x124a94 + " download link. Please check the URL or try another quality.");
            }
          } catch (_0x34ff5c) {
            console.error("Error in PixaldrainDL function:", _0x34ff5c);
            await _0x4c890c.sendMessage(_0x4f7bdc, {
              'react': {
                'text': 'âŒ',
                'key': _0x1ebe40.key
              }
            });
            return _0xe9f4f1("â— An error occurred while processing your download request.");
          }
        }
      };
      _0x4c890c.ev.on("messages.upsert", _0x19baf2);
      setTimeout(() => {
        _0x4c890c.ev.off("messages.upsert", _0x19baf2);
      }, 0xea60);
    };
    _0x4c890c.ev.on('messages.upsert', _0x457b8e);
    setTimeout(() => {
      _0x4c890c.ev.off("messages.upsert", _0x457b8e);
    }, 0xea60);
  } catch (_0x14d295) {
    console.log(_0x14d295);
    await _0x4c890c.sendMessage(_0x4f7bdc, {
      'react': {
        'text': 'âŒ',
        'key': _0x1ebe40.key
      }
    });
    return _0xe9f4f1("â— Error: " + _0x14d295.message);
  }
});
cmd({
  'pattern': "firemovie",
  'alias': ["moviefire", "moviesearch"],
  'react': 'ğŸ¬',
  'desc': "Search Movies on Fire Movies Hub",
  'category': "media",
  'use': ".firemovie <movie name>",
  'filename': __filename
}, async (_0x249057, _0xb6fcc8, _0x53da22, {
  from: _0x232a2a,
  reply: _0x3a2b25,
  args: _0x48dc00,
  q: _0xb01960
}) => {
  try {
    if (!_0xb01960) {
      return await _0x3a2b25("\n*ğŸ¬ SUPUN FIRE MOVIE SEARCH*\n\nUsage: .firemovie <movie name>\n\nExamples:\n.firemovie Iron Man\n.firemovie Avengers\n.firemovie Spider-Man\n\n*Tips:*\n- Be specific with movie name\n- Use full movie titles");
    }
    await _0x53da22.react('ğŸ”');
    const _0x34c696 = encodeURIComponent(_0xb01960);
    const _0x5ab8cf = await axios.get("https://www.dark-yasiya-api.site/movie/firemovie/search?text=" + _0x34c696);
    if (!_0x5ab8cf.data || !_0x5ab8cf.data.status) {
      return await _0x3a2b25("âŒ No movies found or API error.");
    }
    const _0x785245 = _0x5ab8cf.data.result.data;
    if (_0x785245.length === 0x0) {
      return await _0x3a2b25("âŒ No movies found for \"" + _0xb01960 + "\".");
    }
    let _0x1707f9 = "\nâ•­â”€â”€â”€â”€â”€â”€â”€ MOVIE SEARCH â”€â”€â”€â”€â”€â”€â”€â—â—â–º\n\n" + _0x785245.map((_0x1890a9, _0x896e91) => '*' + (_0x896e91 + 0x1) + ". " + _0x1890a9.title + " (" + _0x1890a9.year + ")*\n   ğŸ“„ Type: " + _0x1890a9.type + "\n   ğŸ”— Link: " + _0x1890a9.link + "\n").join("\n") + "\n\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â—â–º\n*REPLY THE NUMBER FOR DETAILS* \n\n*Choose a number to get movie details*\n\n> á´˜á´€á´¡á´‡Ê€á´‡á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…*";
    const _0x54a341 = await _0x249057.sendMessage(_0x232a2a, {
      'text': _0x1707f9,
      'contextInfo': {
        'externalAdReply': {
          'title': "SUPUN-MD Movie Search",
          'body': "Search results for: " + _0xb01960,
          'thumbnailUrl': _0x785245[0x0].image,
          'sourceUrl': _0x785245[0x0].link,
          'mediaType': 0x1,
          'renderLargerThumbnail': true
        }
      }
    }, {
      'quoted': _0xb6fcc8
    });
    const _0x404c38 = _0x54a341.key.id;
    _0x249057.ev.on('messages.upsert', async _0x2637a6 => {
      const _0x17ff9 = _0x2637a6.messages[0x0];
      if (!_0x17ff9.message) {
        return;
      }
      const _0xd5fc9e = _0x17ff9.message.conversation || _0x17ff9.message.extendedTextMessage?.['text'];
      const _0x411e90 = _0x17ff9.message.extendedTextMessage && _0x17ff9.message.extendedTextMessage.contextInfo.stanzaId === _0x404c38;
      if (_0x411e90) {
        const _0x599c82 = parseInt(_0xd5fc9e) - 0x1;
        if (_0x599c82 >= 0x0 && _0x599c82 < _0x785245.length) {
          const _0xb4c8ef = _0x785245[_0x599c82];
          try {
            const _0x18db8f = await axios.get("https://www.dark-yasiya-api.site/movie/firemovie/movie?url=" + encodeURIComponent(_0xb4c8ef.link));
            if (!_0x18db8f.data || !_0x18db8f.data.status) {
              return await _0x3a2b25("âŒ Failed to fetch movie details.");
            }
            const _0x4005ef = _0x18db8f.data.result.data;
            await _0x249057.sendMessage(_0x232a2a, {
              'react': {
                'text': 'ğŸ¬',
                'key': _0x17ff9.key
              }
            });
            global.movieDownloadDetails = {
              'links': _0x4005ef.dl_links,
              'title': _0x4005ef.title
            };
          } catch (_0x37f602) {
            console.error("Movie Detail Fetch Error:", _0x37f602);
            await _0x3a2b25("âŒ Failed to fetch movie details.");
          }
        } else {
          await _0x249057.sendMessage(_0x232a2a, {
            'react': {
              'text': 'â“',
              'key': _0x17ff9.key
            }
          });
          _0x3a2b25("Please enter a valid movie number!");
        }
      } else {
        if (global.movieDownloadDetails) {
          const _0x5291db = parseInt(_0xd5fc9e) - 0x1;
          if (_0x5291db >= 0x0 && _0x5291db < global.movieDownloadDetails.links.length) {
            const _0x1041aa = global.movieDownloadDetails.links[_0x5291db];
            await _0x249057.sendMessage(_0x232a2a, {
              'react': {
                'text': 'ğŸ“¥',
                'key': _0x17ff9.key
              }
            });
            const _0x531cac = await _0x3a2b25("ğŸ”„ Preparing download for " + global.movieDownloadDetails.title + "...");
            try {
              const _0x34e2db = await axios({
                'method': "get",
                'url': _0x1041aa.link,
                'responseType': "arraybuffer",
                'maxContentLength': Infinity,
                'maxBodyLength': Infinity,
                'headers': {
                  'User-Agent': "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"
                }
              });
              const _0x96ddb7 = global.movieDownloadDetails.title.replace(/[^a-zA-Z0-9]/g, '_').replace(/__+/g, '_').substring(0x0, 0x32);
              const _0xe4a5e6 = _0x96ddb7 + '_' + _0x1041aa.quality + ".mp4";
              const _0xf4837c = path.join(__dirname, "temp", _0xe4a5e6);
              await fs.mkdir(path.join(__dirname, "temp"), {
                'recursive': true
              });
              await fs.writeFile(_0xf4837c, _0x34e2db.data);
              await _0x249057.sendMessage(_0x232a2a, {
                'delete': _0x531cac.key
              });
              await _0x3a2b25("âœ… *Download Complete*\nğŸ“¥ File: " + _0xe4a5e6);
              setTimeout(async () => {
                try {
                  await fs.unlink(_0xf4837c);
                } catch (_0x72318) {
                  console.log("Temp file cleanup error:", _0x72318);
                }
              }, 300000);
              await _0x249057.sendMessage(_0x232a2a, {
                'react': {
                  'text': 'âœ…',
                  'key': _0x17ff9.key
                }
              });
            } catch (_0x2e2964) {
              console.error("Movie Download Error:", _0x2e2964);
              await _0x249057.sendMessage(_0x232a2a, {
                'delete': _0x531cac.key
              });
              let _0x3fe4b1 = "âŒ Download failed. ";
              if (_0x2e2964.response) {
                switch (_0x2e2964.response.status) {
                  case 0x194:
                    _0x3fe4b1 += "Download link is no longer valid.";
                    break;
                  case 0x193:
                    _0x3fe4b1 += "Access to the file is restricted.";
                    break;
                  case 0x1f4:
                    _0x3fe4b1 += "Server error occurred.";
                    break;
                  default:
                    _0x3fe4b1 += "HTTP Error: " + _0x2e2964.response.status;
                }
              } else {
                if (_0x2e2964.code) {
                  switch (_0x2e2964.code) {
                    case "ECONNABORTED":
                      _0x3fe4b1 += "Download timed out.";
                      break;
                    case 'ENOTFOUND':
                      _0x3fe4b1 += "Unable to connect to download server.";
                      break;
                    default:
                      _0x3fe4b1 += "Network Error: " + _0x2e2964.code;
                  }
                } else {
                  _0x3fe4b1 += "An unexpected error occurred.";
                }
              }
              await _0x3a2b25(_0x3fe4b1);
              await _0x249057.sendMessage(_0x232a2a, {
                'react': {
                  'text': 'âŒ',
                  'key': _0x17ff9.key
                }
              });
            }
            delete global.movieDownloadDetails;
          }
        }
      }
    });
  } catch (_0x176442) {
    console.error("Movie Search Error:", _0x176442);
    await _0x3a2b25("âŒ An error occurred during the movie search.");
  }
});
cmd({
  'pattern': "cineinfo",
  'desc': "cinesubz.co info",
  'category': 'search',
  'filename': __filename
}, async (_0x422407, _0x4072f1, _0x47d8f4, {
  from: _0xf522b5,
  quoted: _0x5ef490,
  body: _0x248c5c,
  isCmd: _0x1adeb1,
  command: _0x2a5ebb,
  args: _0x4fd851,
  q: _0x100bff,
  isGroup: _0x4aeabb,
  sender: _0x57786c,
  senderNumber: _0x596f2b,
  botNumber2: _0x4e9e7a,
  botNumber: _0x350a6d,
  pushname: _0x4b6987,
  isMe: _0x30f973,
  isOwner: _0x5ed05c,
  groupMetadata: _0x41ee09,
  groupName: _0x465efc,
  participants: _0x1c460d,
  groupAdmins: _0x1d471e,
  isBotAdmins: _0x59afc2,
  isAdmins: _0xa04899,
  reply: _0xbc46cb
}) => {
  try {
    if (!_0x100bff) {
      return _0xbc46cb("*Please give me a movie name.â€¼*");
    }
    let _0x2131a4 = await axios.get("https://cinesubz.co/?s=" + _0x100bff);
    let _0x585784 = cheerio.load(_0x2131a4.data);
    let _0x5dd4ee = _0x585784("#contenedor > div.module > div.content.rigth.csearch > div > div:nth-child(2) > article > div.details > div.title > a").attr("href");
    if (!_0x5dd4ee) {
      let _0x11104e = _0x585784("#contenedor > div.module > div.content.rigth.csearch > div > div.no-result.animation-2 > h2 > span").text();
      return _0xbc46cb("No results to show with *" + _0x11104e + '*');
    }
    let _0x437111 = await axios.get('' + _0x5dd4ee);
    _0x585784 = cheerio.load(_0x437111.data);
    const _0x40d5ff = _0x585784("#single > div.content.right > div.sheader > div.data > h1").text();
    const _0x4613a0 = _0x585784("#single > div.content.right > div.sheader > div.data > div.extra > span.date").text();
    const _0x2e677c = _0x585784("#single > div.content.right > div.sheader > div.data > div.extra > span.country").text();
    const _0x2bb310 = _0x585784("#single > div.content.right > div.sheader > div.data > div.extra > span.runtime").text();
    const _0x3f1ca0 = _0x585784("#repimdb > strong").text();
    const _0x106c25 = _0x585784("#cast > div:nth-child(2) > div > div.data > div.name > a").text();
    const _0x15c7ee = _0x585784("#single > div.content.right > div.sheader > div.poster > img").attr("src");
    let _0x2bdde5 = "*ğŸ¬  " + _0x40d5ff + "*\n*ğŸ“† Rá´‡ÊŸá´‡á´€êœ±á´‡ Dá´€á´›á´‡:* " + _0x4613a0 + "\n*ğŸŒ Cá´á´œÉ´á´›Ê€Ê:* " + _0x2e677c + "\n*ğŸ•˜ Dá´œÊ€á´€á´›Éªá´É´:* " + _0x2bb310 + "\n*âš¡ Iá´á´…Ê™ Rá´€á´›á´‡:* " + _0x3f1ca0 + "\n*ğŸ‘¨â€ğŸ’» DÉªÊ€á´‡á´„á´›á´Ê€:* " + _0x106c25 + "\n*ğŸ–‡ï¸ LÉªÉ´á´‹:* " + _0x5dd4ee + "\n\n> êœ°á´á´¡á´‡Ê€á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…";
    await _0x422407.sendMessage(_0xf522b5, {
      'image': {
        'url': _0x15c7ee
      },
      'caption': _0x2bdde5
    }, {
      'quoted': _0x4072f1
    });
  } catch (_0x5772dd) {
    console.log(_0x5772dd);
    _0xbc46cb('' + _0x5772dd);
  }
});
cmd({
  'pattern': "si1",
  'desc': "Get movie download links.",
  'category': "movie",
  'react': 'ğŸ¥',
  'filename': __filename
}, async (_0x5b1682, _0xef508a, _0x2ac841, {
  from: _0x555177,
  q: _0x36168a,
  reply: _0x564172
}) => {
  try {
    const _0x442fc2 = _0x36168a.trim();
    const _0x148c39 = _0x442fc2.split('&');
    if (_0x148c39.length < 0x2) {
      return _0x564172("Please provide both the download location (JID) and the movie link in the format: `.moviedl jid&movie_link`.");
    }
    const _0x1027cf = _0x148c39[0x0].trim();
    const _0x14c914 = _0x148c39[0x1].trim();
    const _0x86409 = await SinhalaSub.movie(_0x14c914);
    if (!_0x86409.status) {
      return _0x564172("Movie details not found.");
    }
    const _0xd081eb = _0x86409.result;
    let _0x29100a = '*' + _0xd081eb.title + "*\n\n";
    _0x29100a += "ğŸ“… Release Date: " + _0xd081eb.release_date + "\n";
    _0x29100a += "âœ¨ IMDb Rating: " + _0xd081eb.IMDb_Rating + "\n";
    _0x29100a += "ğŸ§›â€â™‚ï¸ Director: " + _0xd081eb.director.name + "\n\n";
    _0x29100a += "> êœ°á´á´¡á´‡Ê€á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…";
    const _0x59d822 = _0xd081eb.images && _0xd081eb.images.length > 0x0 ? _0xd081eb.images[0x0] : null;
    await _0x5b1682.sendMessage(_0x555177, {
      'image': {
        'url': _0x59d822
      },
      'caption': _0x29100a
    }, {
      'quoted': _0xef508a
    });
    const _0x290d34 = await PixaldrainDL(_0x14c914, "HD 720p", "direct");
    if (_0x290d34) {
      await _0x5b1682.sendMessage(_0x1027cf, {
        'document': {
          'url': _0x290d34
        },
        'mimetype': "video/mp4",
        'fileName': '*' + _0xd081eb.title + '.mp4',
        'caption': _0xd081eb.title + " - " + "HD 720p" + "\n\n> êœ°á´á´¡á´‡Ê€á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´…"
      });
      _0x564172("The download has been sent to the specified location.\nà¶¶à·à¶œà¶­ à¶šà·’à¶»à·“à¶¸ à¶±à·’à·à·Šà¶ à·’à¶­ à·ƒà·Šà¶®à·à¶±à¶ºà¶§ à¶ºà·€à· à¶‡à¶­.");
    } else {
      _0x564172("Could not find the 720p download link. Please check the URL or try a different movie.");
    }
  } catch (_0x52326b) {
    console.log(_0x52326b);
    await _0x5b1682.sendMessage(_0x555177, {
      'react': {
        'text': 'âŒ',
        'key': _0xef508a.key
      }
    });
    return _0x564172("Error: " + _0x52326b.message);
  }
});
cmd({
  'pattern': 'film',
  'desc': "Search and download Sinhala-subbed movies.",
  'category': "movie",
  'react': 'ğŸ¬',
  'filename': __filename
}, async (_0x11a2fb, _0xf24518, _0x2373b7, {
  from: _0x354111,
  q: _0x280930,
  reply: _0x480a30
}) => {
  try {
    const _0x3be009 = _0x280930.trim();
    if (!_0x3be009) {
      return _0x480a30("ğŸ“Œ Please enter a movie name to search!");
    }
    const _0x448643 = await SinhalaSub.get_list.by_search(_0x3be009);
    if (!_0x448643.status || _0x448643.results.length === 0x0) {
      return _0x480a30("ğŸš« No results found for your search!");
    }
    let _0x73d91c = "ğŸ¥ *SUPUN MD MOVIE SEARCH*\n\n";
    _0x448643.results.forEach((_0x18be8a, _0x1d3052) => {
      _0x73d91c += _0x1d3052 + 0x1 + ". ğŸ¬ *" + _0x18be8a.title + "*\nğŸ“Œ *Type:* " + _0x18be8a.type + "\nğŸ”— *Link:* " + _0x18be8a.link + "\n\n";
    });
    const _0x36bc88 = async _0x5f5ced => {
      const _0x2b5944 = _0x5f5ced.messages[0x0];
      if (!_0x2b5944.message || !_0x2b5944.message.extendedTextMessage) {
        return;
      }
      const _0x500a0a = _0x2b5944.message.extendedTextMessage.text.trim();
      const _0x49caa3 = parseInt(_0x500a0a) - 0x1;
      if (_0x49caa3 < 0x0 || _0x49caa3 >= _0x448643.results.length) {
        return _0x480a30("âŒ Invalid selection. Choose a valid number.");
      }
      const _0x9f7e59 = _0x448643.results[_0x49caa3];
      const _0x2a22de = _0x9f7e59.link;
      const _0x73dd85 = await SinhalaSub.movie(_0x2a22de);
      if (!_0x73dd85 || !_0x73dd85.status || !_0x73dd85.result) {
        return _0x480a30("â— Movie details not found. Try another movie.");
      }
      const _0x892e36 = _0x73dd85.result;
      let _0x372174 = "ğŸ¬ *" + _0x892e36.title + "*\n\n";
      _0x372174 += "ğŸ—“ï¸ *Release Date:* " + _0x892e36.release_date + "\n";
      _0x372174 += "ğŸŒ *Country:* " + _0x892e36.country + "\n";
      _0x372174 += "â³ *Duration:* " + _0x892e36.duration + "\n";
      _0x372174 += "â­ *IMDb Rating:* " + _0x892e36.IMDb_Rating + "\n";
      _0x372174 += "ğŸ“€ *Director:* " + _0x892e36.director.name + "\n\n";
      _0x372174 += "ğŸ› ï¸ *Select Quality:*\n\n";
      _0x372174 += "ğŸ”¹ *SD | SD 480p*\n";
      _0x372174 += "ğŸ”¹ *HD | HD 720p*\n";
      _0x372174 += "ğŸ”¹ *FHD | FHD 1080p*\n\n";
      _0x372174 += "ğŸ’¾ Reply with the quality to get the download link!";
      const _0xc7ca49 = _0x892e36.images && _0x892e36.images.length > 0x0 ? _0x892e36.images[0x0] : null;
      const _0x5225bd = await _0x11a2fb.sendMessage(_0x354111, {
        'image': {
          'url': _0xc7ca49
        },
        'caption': _0x372174
      }, {
        'quoted': _0xf24518
      });
      const _0x3066e9 = async _0x1cceb1 => {
        const _0x5f58a9 = _0x1cceb1.messages[0x0];
        if (!_0x5f58a9.message || !_0x5f58a9.message.extendedTextMessage) {
          return;
        }
        const _0x4cc236 = _0x5f58a9.message.extendedTextMessage.text.trim();
        if (_0x5f58a9.message.extendedTextMessage.contextInfo.stanzaId === _0x5225bd.key.id) {
          let _0x3f460f;
          switch (_0x4cc236.toUpperCase()) {
            case 'SD':
              _0x3f460f = "SD 480p";
              break;
            case 'HD':
              _0x3f460f = "HD 720p";
              break;
            case "FHD":
              _0x3f460f = "FHD 1080p";
              break;
            default:
              return _0x480a30("âŒ Invalid option. Please select SD, HD, or FHD.");
          }
          try {
            const _0x52944a = await PixaldrainDL(_0x2a22de, _0x3f460f, "direct");
            if (_0x52944a) {
              await _0x11a2fb.sendMessage(_0x354111, {
                'document': {
                  'url': _0x52944a
                },
                'mimetype': "video/mp4",
                'fileName': _0x892e36.title + ".mp4",
                'caption': "ğŸ¬ *" + _0x892e36.title + "*\n\nâœ… *Download Link Ready!*"
              }, {
                'quoted': _0xf24518
              });
            } else {
              return _0x480a30("â— No " + _0x3f460f + " download link found.");
            }
          } catch (_0x53c117) {
            return _0x480a30("â— An error occurred while processing your request.");
          }
        }
      };
      _0x11a2fb.ev.on('messages.upsert', _0x3066e9);
      setTimeout(() => {
        _0x11a2fb.ev.off('messages.upsert', _0x3066e9);
      }, 0xea60);
    };
    _0x11a2fb.ev.on("messages.upsert", _0x36bc88);
    setTimeout(() => {
      _0x11a2fb.ev.off("messages.upsert", _0x36bc88);
    }, 0xea60);
  } catch (_0x4f6cb7) {
    return _0x480a30("â— Error: " + _0x4f6cb7.message);
  }
});
cmd({
  'pattern': 'tvshow',
  'desc': "Get TV show details or download episodes.",
  'category': 'entertainment',
  'react': 'ğŸ“º',
  'filename': __filename
}, async (_0x10d06a, _0x50438e, _0x2a8a3b, {
  from: _0x48aeeb,
  quoted: _0x59c0d4,
  args: _0x2042a2,
  reply: _0x404140
}) => {
  try {
    if (_0x2042a2.length < 0x1) {
      return _0x404140("Usage: `.tvshow <action> <query/url>`\nActions: search, info, download\nExample: `.tvshow search new`");
    }
    const _0xf051e1 = _0x2042a2[0x0].toLowerCase();
    const _0x3a10d3 = _0x2042a2.slice(0x1).join(" ");
    if (_0xf051e1 === 'search') {
      const _0x471110 = "https://darksadas-yt-sinhalasub-search.vercel.app/?q=" + _0x3a10d3;
      _0x404140("ğŸ” Searching for TV shows: [Click here to search]( " + _0x471110 + " )");
    } else {
      if (_0xf051e1 === "info" && _0x3a10d3) {
        const _0x36c2e6 = 'https://darksadas-yt-sinhalasub-tv-shows-info.vercel.app/?url=' + encodeURIComponent(_0x3a10d3) + "&apikey=pramashi";
        const _0x3a9e4a = await axios.get(_0x36c2e6);
        const _0x2113bc = _0x3a9e4a.data;
        if (_0x2113bc) {
          let _0x5b678b = "ğŸ¬ TV Show Info ğŸ¬\n\n";
          _0x5b678b += "ğŸ“… Title: " + _0x2113bc.title + "\n";
          _0x5b678b += "ğŸ“Œ Description: " + _0x2113bc.description + "\n";
          _0x5b678b += "ğŸ–¥ï¸ Link: " + _0x3a10d3 + "\n";
          _0x5b678b += "> á´˜á´€á´¡á´‡Ê€á´‡á´… Ê™Ê êœ±á´œá´˜á´œÉ´ á´á´… ";
          _0x404140(_0x5b678b);
        } else {
          _0x404140("âŒ Could not fetch TV show info. Please check the URL.");
        }
      } else {
        if (_0xf051e1 === 'download' && _0x3a10d3) {
          const _0x328a45 = "https://darksadas-yt-sinhalasub-tv-shows-dl.vercel.app/api/episode?url=" + encodeURIComponent(_0x3a10d3);
          _0x404140("ğŸ”½ Downloading episode from: [Click here to download](" + _0x328a45 + ')');
        } else {
          _0x404140("âŒ Invalid action or missing URL.");
        }
      }
    }
  } catch (_0x14eb47) {
    console.error(_0x14eb47);
    _0x404140("âŒ *Error*: " + _0x14eb47.message);
  }
});
